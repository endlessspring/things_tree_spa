"use strict";(self["webpackChunkthings_tree"]=self["webpackChunkthings_tree"]||[]).push([[64],{8681:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(3673),s=a(8880);function o(e,t,a,o,d,c){return(0,n.wy)(((0,n.wg)(),(0,n.j4)(s.uT,{"enter-active-class":"fade-in","leave-active-class":"fade-out"},{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default",{},void 0,!0)])),_:3},512)),[[s.F8,o.show]])}var d=a(1959);const c={name:"fade-animation-wrapper",setup(){let e=(0,d.iH)(!1);return(0,n.bv)((()=>{e.value=!0})),{show:e}}};var i=a(4260);const l=(0,i.Z)(c,[["render",o],["__scopeId","data-v-0c002dde"]]),r=l},3395:(e,t,a)=>{a.d(t,{Z:()=>Y});var n=a(3673);const s={class:"task-list"};function o(e,t,a,o,d,c){var i;const l=(0,n.up)("Task");return(0,n.wg)(),(0,n.iD)("div",s,[(null===(i=e.task)||void 0===i?void 0:i.section_id)?(0,n.kq)("",!0):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(e.tasks,(t=>((0,n.wg)(),(0,n.j4)(l,(0,n.dG)(t,{key:null===t||void 0===t?void 0:t.id,expanded:e.$route.params.id===String(t.id),"task-state":t,"on-change":e.onTaskChange,"on-delete":()=>e.onTaskDelete(t),onClick:a=>e.expandTask(t.id)}),null,16,["expanded","task-state","on-change","on-delete","onClick"])))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.sections,(t=>((0,n.wg)(),(0,n.iD)("section",{key:t.id},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tasks,(a=>((0,n.wg)(),(0,n.iD)(n.HY,{key:a.id},[a.section_id===t.id?((0,n.wg)(),(0,n.j4)(l,{key:null===a||void 0===a?void 0:a.id,expanded:e.$route.params.id===String(a.id),"on-change":e.onTaskChange,"task-state":a,"on-delete":e.onTaskDelete(a),onClick:t=>e.expandTask(a.id)},null,8,["expanded","on-change","task-state","on-delete","onClick"])):(0,n.kq)("",!0)],64)))),128))])))),128))])}var d=a(2323);const c={class:"task_header"},i={class:"task_content"},l={class:"task_note"},r={class:"task_footer"};function u(e,t,a,s,o,u){const p=(0,n.up)("th-checkbox"),k=(0,n.up)("th-input"),v=(0,n.up)("th-textarea"),h=(0,n.up)("q-icon"),g=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.iD)("div",{class:(0,d.C_)(["task",{"task--extended":e.expanded}])},[(0,n._)("div",c,[(0,n.Wm)(p,{name:"checked",value:e.checked,input:e.checkHandler},null,8,["value","input"]),(0,n.Wm)(k,{name:"title",placeholder:"Новая задача",input:e.inputHandler,value:e.title},null,8,["input","value"])]),(0,n._)("div",i,[(0,n._)("div",l,[(0,n.Wm)(v,{name:"note",placeholder:"Заметка",input:e.inputHandler,value:e.note},null,8,["input","value"])]),(0,n._)("div",r,[(0,n.Wm)(g,{onClick:e.onDelete,size:"12px"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{name:"ion-trash"})])),_:1},8,["onClick"])])])],2)}function p(e,t,a,s,o,d){return(0,n.wg)(),(0,n.iD)("input",(0,n.dG)(this.$props,{type:"checkbox",class:"th-checkbox"}),null,16)}const k={name:"ThCheckbox",props:Object};var v=a(4260);const h=(0,v.Z)(k,[["render",p],["__scopeId","data-v-18a7d688"]]),g=h;function _(e,t,a,s,o,d){return(0,n.wg)(),(0,n.iD)("input",(0,n.dG)(this.$props,{autocomplete:"false",type:"text",class:"th-input"}),null,16)}const m={name:"ThInput"},T=(0,v.Z)(m,[["render",_],["__scopeId","data-v-4700e5ce"]]),f=T;function w(e,t,a,s,o,d){return(0,n.wg)(),(0,n.iD)("textarea",(0,n.dG)(e.$props,{class:"th-textarea"}),null,16)}const y={name:"th-textarea"},x=(0,v.Z)(y,[["render",w],["__scopeId","data-v-17f85b0b"]]),Z=x;var b=a(1959);function C(e){const t=(0,b.iH)(e),a=e=>{t.value=e instanceof Function?e(t.value):e};return[t,a]}const D=(0,n.aZ)({name:"Task",components:{ThTextarea:Z,ThInput:f,ThCheckbox:g},props:{taskState:{type:Object,required:!0},expanded:{type:Boolean},onChange:{type:Function,required:!0},onDelete:{type:Function,required:!0}},setup:function(e){const[t,a]=C(e.taskState),s=e=>{const t=e.target;a((e=>Object.assign(Object.assign({},e),{[t.name]:t.value})))},o=e=>{const t=e.target;a((e=>Object.assign(Object.assign({},e),{[t.name]:t.checked})))};return(0,n.YP)((()=>t.value),(t=>e.onChange(t))),Object.assign({inputHandler:s,checkHandler:o},t.value)}});var I=a(1889),j=a(4554),H=a(7518),W=a.n(H);const q=(0,v.Z)(D,[["render",u],["__scopeId","data-v-02aeccee"]]),F=q;W()(D,"components",{QBtn:I.Z,QIcon:j.Z});var O=a(8681),$=a(8274);const S=(0,n.aZ)({name:"task-list",components:{FadeAnimationWrapper:O.Z,Task:F},props:{tasks:{type:Array,required:!0},sections:{type:Array,default:[]},expandTask:{type:Function,required:!0}},setup(){const e=$.Z.useTasksStore(),t=t=>{(null===t||void 0===t?void 0:t.id)&&e.changeTask(t)},a=t=>{e.deleteTask(t)};return{onTaskChange:t,onTaskDelete:a}}}),G=(0,v.Z)(S,[["render",o]]),Y=G},97:(e,t,a)=>{a.d(t,{Z:()=>w});var n=a(3673),s=a(2323);const o={class:"page-layout"},d={class:"page-layout_header"},c={class:"header_title"},i={class:"page-layout_content"};function l(e,t,a,l,r,u){const p=(0,n.up)("q-icon"),k=(0,n.up)("add-task"),v=(0,n.up)("fade-animation-wrapper");return(0,n.wg)(),(0,n.j4)(v,null,{default:(0,n.w5)((()=>{var t;return[(0,n._)("div",o,[(0,n._)("header",d,[(0,n._)("h1",c,[(0,n.Wm)(p,(0,n.dG)({class:"title_icon"},e.pageIcon,{style:{color:null===(t=e.pageIcon)||void 0===t?void 0:t.color}}),null,16,["style"]),(0,n._)("span",null,(0,s.zw)(e.title),1)])]),(0,n._)("div",i,[(0,n.WI)(e.$slots,"default",{},void 0,!0)]),(0,n.Wm)(k,{"add-task":e.addTask},null,8,["add-task"])])]})),_:3})}var r=a(8681);function u(e,t,a,s,o,d){return(0,n.wg)(),(0,n.iD)("div",{class:"add-task",onClick:t[0]||(t[0]=(...t)=>e.addTask&&e.addTask(...t))},"+")}const p=(0,n.aZ)({name:"addTask",props:["addTask"]});var k=a(4260);const v=(0,k.Z)(p,[["render",u],["__scopeId","data-v-39c01718"]]),h=v,g=(0,n.aZ)({name:"page-layout",components:{FadeAnimationWrapper:r.Z,addTask:h},props:{title:{type:String},pageIcon:{type:Object},addTask:{type:Function}}});var _=a(4554),m=a(7518),T=a.n(m);const f=(0,k.Z)(g,[["render",l],["__scopeId","data-v-f76b8242"]]),w=f;T()(g,"components",{QIcon:_.Z})}}]);