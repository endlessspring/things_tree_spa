"use strict";(self["webpackChunkthings_tree"]=self["webpackChunkthings_tree"]||[]).push([[11],{303:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(3673),s=a(8880);function o(e,t,a,o,c,r){return(0,n.wy)(((0,n.wg)(),(0,n.j4)(s.uT,{"enter-active-class":"fade-in","leave-active-class":"fade-out"},{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default",{},void 0,!0)])),_:3},512)),[[s.F8,o.show]])}var c=a(1959);const r={name:"fade-animation-wrapper",setup(){let e=(0,c.iH)(!1);return(0,n.bv)((()=>{e.value=!0})),{show:e}}};var i=a(4260);const d=(0,i.Z)(r,[["render",o],["__scopeId","data-v-7c2f7838"]]),u=d},8594:(e,t,a)=>{a.d(t,{Z:()=>I});var n=a(3673),s=a(2323);const o={class:"page-layout"},c={class:"page-layout_header"},r={class:"header_title"},i={class:"page-layout_content"};function d(e,t,a,d,u,l){const p=(0,n.up)("q-icon"),k=(0,n.up)("add-task"),h=(0,n.up)("fade-animation-wrapper");return(0,n.wg)(),(0,n.j4)(h,null,{default:(0,n.w5)((()=>{var t;return[(0,n._)("div",o,[(0,n._)("header",c,[(0,n._)("h1",r,[(0,n.Wm)(p,(0,n.dG)({class:"title_icon"},e.pageIcon,{style:{color:null===(t=e.pageIcon)||void 0===t?void 0:t.color}}),null,16,["style"]),(0,n.Uk)(" "+(0,s.zw)(e.title),1)])]),(0,n._)("div",i,[(0,n.WI)(e.$slots,"default",{},void 0,!0)]),(0,n.Wm)(k)])]})),_:3})}var u=a(303);function l(e,t,a,s,o,c){return(0,n.wg)(),(0,n.iD)("div",{class:"add-task",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},"+")}var p=a(8935);const k=(0,n.aZ)({name:"addTask",methods:{setTaskFocus(e){this.$router.push({name:"task",params:{id:e}})},addTask(e){this.$store.commit("tasksStore/addTask",e)},onClick(){const{list_id:e}=this.$route.params,t=(0,p.x)({id:Math.random(),list_id:String(e)});this.addTask(t),this.setTaskFocus(t.id)}}});var h=a(4260);const v=(0,h.Z)(k,[["render",l],["__scopeId","data-v-c2591998"]]),g=v,m=(0,n.aZ)({name:"page-layout",components:{FadeAnimationWrapper:u.Z,addTask:g},props:{title:{type:String,required:!0},pageIcon:{type:Object}},setup(){return{}}});var _=a(4554),f=a(7518),w=a.n(f);const y=(0,h.Z)(m,[["render",d],["__scopeId","data-v-1394207d"]]),I=y;w()(m,"components",{QIcon:_.Z})},9011:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K});var n=a(3673);function s(e,t,a,s,o,c){const r=(0,n.up)("task-list"),i=(0,n.up)("page-layout");return(0,n.wg)(),(0,n.j4)(i,{title:e.$t("inbox"),"page-icon":e.pageIcon},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{tasks:e.tasks},null,8,["tasks"])])),_:1},8,["title","page-icon"])}var o=a(8594),c=a(5357);const r={class:"task-list"};function i(e,t,a,s,o,c){const i=(0,n.up)("Task");return(0,n.wg)(),(0,n.iD)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.sections,(t=>((0,n.wg)(),(0,n.iD)("section",{key:t.id},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tasks,(a=>((0,n.wg)(),(0,n.iD)(n.HY,{key:a.id},[a.section_id===t.id?((0,n.wg)(),(0,n.j4)(i,{key:a.id,expanded:e.$route.params.id===String(a.id),"on-change":e.onTaskChange,"task-state":a,onClick:t=>e.onExpand(a.id)},null,8,["expanded","on-change","task-state","onClick"])):(0,n.kq)("",!0)],64)))),128))])))),128))])}var d=a(2323);const u=e=>((0,n.dD)("data-v-661dd189"),e=e(),(0,n.Cn)(),e),l={class:"task_header"},p={class:"task_content"},k={class:"task_note"},h=u((()=>(0,n._)("div",{class:"task_footer"},null,-1)));function v(e,t,a,s,o,c){const r=(0,n.up)("th-checkbox"),i=(0,n.up)("th-input"),u=(0,n.up)("th-textarea");return(0,n.wg)(),(0,n.iD)("div",{class:(0,d.C_)("task"+(e.expanded?"--extended":""))},[(0,n._)("div",l,[(0,n.Wm)(r,{name:"checked",value:e.checked,checked:e.checked,onInput:e.checkHandler},null,8,["value","checked","onInput"]),(0,n.Wm)(i,{name:"title",value:e.title,placeholder:"Новая задача",onInput:e.inputHandler},null,8,["value","onInput"])]),(0,n._)("div",p,[(0,n._)("div",k,[(0,n.Wm)(u,{name:"note",value:e.note,onInput:e.inputHandler,placeholder:"Заметка"},null,8,["value","onInput"])]),h])],2)}function g(e,t,a,s,o,c){return(0,n.wg)(),(0,n.iD)("input",(0,n.dG)(this.$props,{type:"checkbox",class:"th-checkbox"}),null,16)}const m={name:"ThCheckbox",props:Object};var _=a(4260);const f=(0,_.Z)(m,[["render",g],["__scopeId","data-v-80efad28"]]),w=f;function y(e,t,a,s,o,c){return(0,n.wg)(),(0,n.iD)("input",(0,n.dG)(this.$props,{type:"text",class:"th-input"}),null,16)}const I={name:"ThInput",props:Object},x=(0,_.Z)(I,[["render",y],["__scopeId","data-v-af184904"]]),T=x;function b(e,t,a,s,o,c){return(0,n.wg)(),(0,n.iD)("textarea",(0,n.dG)(e.$props,{class:"th-textarea"}),null,16)}const Z={name:"th-textarea"},C=(0,_.Z)(Z,[["render",b],["__scopeId","data-v-9e3cf832"]]),j=C;var D=a(1959);function $(e){const t=(0,D.iH)(e),a=e=>{t.value=e instanceof Function?e(t.value):e};return[t,a]}const H=(0,n.aZ)({name:"Task",components:{ThTextarea:j,ThInput:T,ThCheckbox:w},props:{taskState:{type:Object,required:!0},expanded:{type:Boolean},onChange:{type:Function,required:!0}},setup:function(e){const[t,a]=$(e.taskState),s=e=>{const t=e.target;a((e=>Object.assign(Object.assign({},e),{[t.name]:t.value})))},o=e=>{const t=e.target;a((e=>Object.assign(Object.assign({},e),{[t.name]:t.checked})))};return(0,n.YP)((()=>t.value),(t=>e.onChange(t))),Object.assign({inputHandler:s,checkHandler:o},t.value)}});var W=a(4554),F=a(7518),O=a.n(F);const S=(0,_.Z)(H,[["render",v],["__scopeId","data-v-661dd189"]]),q=S;O()(H,"components",{QIcon:W.Z});var A=a(303);const G=(0,n.aZ)({name:"task-list",components:{FadeAnimationWrapper:A.Z,Task:q},props:{tasks:{type:Array},sections:{type:Array,default:[{id:"inbox"}]}},methods:{onExpand(e){this.$router.push({name:"task",params:{id:e}})},onTaskChange(e){(null===e||void 0===e?void 0:e.id)&&this.$store.commit("tasksStore/changeTask",e)}}}),Y=(0,_.Z)(G,[["render",i]]),E=Y;var L=a(9582);const P=(0,n.aZ)({name:"PageInbox",components:{TaskList:E,PageLayout:o.Z},setup(){const{getters:e}=(0,c.useStore)(),t=(0,L.yj)(),a=(0,n.Fl)((()=>e["tasksStore/getTasksByList"](t.params.list_id))),s={color:"#1DAEF8",name:"inbox"};return{pageIcon:s,tasks:a}}}),B=(0,_.Z)(P,[["render",s]]),K=B}}]);